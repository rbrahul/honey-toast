(function(l,h){typeof exports=="object"&&typeof module<"u"?module.exports=h():typeof define=="function"&&define.amd?define(h):(l=typeof globalThis<"u"?globalThis:l||self,l.toast=h())})(this,function(){"use strict";var xt=Object.defineProperty;var Q=l=>{throw TypeError(l)};var vt=(l,h,d)=>h in l?xt(l,h,{enumerable:!0,configurable:!0,writable:!0,value:d}):l[h]=d;var u=(l,h,d)=>vt(l,typeof h!="symbol"?h+"":h,d),j=(l,h,d)=>h.has(l)||Q("Cannot "+d);var o=(l,h,d)=>(j(l,h,"read from private field"),d?d.call(l):h.get(l)),E=(l,h,d)=>h.has(l)?Q("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(l):h.set(l,d),S=(l,h,d,P)=>(j(l,h,"write to private field"),P?P.call(l,d):h.set(l,d),d),b=(l,h,d)=>(j(l,h,"access private method"),d);var m,a,L,R,X,A,T,c,tt,O,V,et,st;const l="data:image/svg+xml,%3csvg%20width='80'%20height='80'%20viewBox='0%200%2024%2024'%20fill='%23ffffff'%20xmlns='http://www.w3.org/2000/svg'%20transform='rotate(0%200%200)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12.0016%202.00098C12.4158%202.00098%2012.7516%202.33676%2012.7516%202.75098V3.53801C16.5416%203.9143%2019.5016%207.11197%2019.5016%2011.001V14.115L20.1938%2015.9609C20.7454%2017.4319%2019.6581%2019.001%2018.0871%2019.001H15.0628C15.0287%2020.6631%2013.6701%2021.9995%2011.9998%2021.9995C10.3295%2021.9995%208.97089%2020.6631%208.93682%2019.001H5.9161C4.34514%2019.001%203.25776%2017.4319%203.80936%2015.9609L4.5016%2014.115V11.001C4.5016%207.11197%207.46161%203.9143%2011.2516%203.53801V2.75098C11.2516%202.33676%2011.5874%202.00098%2012.0016%202.00098ZM10.4375%2019.001C10.471%2019.8339%2011.1573%2020.4995%2011.9998%2020.4995C12.8423%2020.4995%2013.5286%2019.8339%2013.5622%2019.001H10.4375ZM6.0016%2011.001C6.0016%207.68727%208.68789%205.00098%2012.0016%205.00098C15.3153%205.00098%2018.0016%207.68727%2018.0016%2011.001V14.1168C18.0016%2014.2955%2018.0337%2014.4727%2018.0965%2014.64L18.7893%2016.4876C18.9732%2016.9779%2018.6108%2017.501%2018.0871%2017.501H5.9161C5.39244%2017.501%205.02998%2016.9779%205.21385%2016.4876L5.90673%2014.64C5.96946%2014.4727%206.0016%2014.2955%206.0016%2014.1168V11.001Z'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e",h="data:image/svg+xml,%3csvg%20width='80'%20height='80'%20viewBox='0%200%2024%2024'%20fill='%23ffffff'%20xmlns='http://www.w3.org/2000/svg'%20transform='rotate(0%200%200)'%3e%3cpath%20d='M6.21967%207.28033C5.92678%206.98744%205.92678%206.51256%206.21967%206.21967C6.51256%205.92678%206.98744%205.92678%207.28033%206.21967L11.999%2010.9384L16.7176%206.2198C17.0105%205.92691%2017.4854%205.92691%2017.7782%206.2198C18.0711%206.51269%2018.0711%206.98757%2017.7782%207.28046L13.0597%2011.999L17.7782%2016.7176C18.0711%2017.0105%2018.0711%2017.4854%2017.7782%2017.7782C17.4854%2018.0711%2017.0105%2018.0711%2016.7176%2017.7782L11.999%2013.0597L7.28033%2017.7784C6.98744%2018.0713%206.51256%2018.0713%206.21967%2017.7784C5.92678%2017.4855%205.92678%2017.0106%206.21967%2016.7177L10.9384%2011.999L6.21967%207.28033Z'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e",d="data:image/svg+xml,%3csvg%20width='80'%20height='80'%20viewBox='0%200%2024%2024'%20fill='%23ffffff'%20xmlns='http://www.w3.org/2000/svg'%20transform='rotate(0%200%200)'%3e%3cpath%20d='M19.2803%206.76264C19.5732%207.05553%2019.5732%207.53041%2019.2803%207.8233L9.86348%2017.2402C9.57058%2017.533%209.09571%2017.533%208.80282%2017.2402L4.71967%2013.157C4.42678%2012.8641%204.42678%2012.3892%204.71967%2012.0963C5.01256%2011.8035%205.48744%2011.8035%205.78033%2012.0963L9.33315%2015.6492L18.2197%206.76264C18.5126%206.46975%2018.9874%206.46975%2019.2803%206.76264Z'%20fill='%23ffffff'/%3e%3c/svg%3e",P="data:image/svg+xml,%3csvg%20width='80'%20height='80'%20viewBox='0%200%2024%2024'%20fill='%23ffffff'%20xmlns='http://www.w3.org/2000/svg'%20transform='rotate(0%200%200)'%3e%3cpath%20d='M16.6272%204.49741C17.0414%204.49741%2017.3772%204.8332%2017.3772%205.24741V6.9957C17.3772%207.40992%2017.0414%207.7457%2016.6272%207.7457C16.213%207.7457%2015.8772%207.40992%2015.8772%206.9957V5.24741C15.8772%204.8332%2016.213%204.49741%2016.6272%204.49741Z'%20fill='%23ffffff'%3e%3c/path%3e%3cpath%20d='M15.8262%209.49781C15.8262%209.05598%2016.1844%208.69781%2016.6262%208.69781C17.068%208.69781%2017.4272%209.05598%2017.4272%209.49781C17.4272%209.93964%2017.069%2010.2978%2016.6272%2010.2978C16.1854%2010.2978%2015.8262%209.93964%2015.8262%209.49781Z'%20fill='%23ffffff'%3e%3c/path%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.2517%207.375C11.2517%204.40647%2013.6582%202%2016.6267%202C19.5952%202%2022.0017%204.40647%2022.0017%207.375C22.0017%2010.3435%2019.5952%2012.75%2016.6267%2012.75C13.6582%2012.75%2011.2517%2010.3435%2011.2517%207.375ZM16.6267%203.5C14.4866%203.5%2012.7517%205.2349%2012.7517%207.375C12.7517%209.5151%2014.4866%2011.25%2016.6267%2011.25C18.7668%2011.25%2020.5017%209.5151%2020.5017%207.375C20.5017%205.2349%2018.7668%203.5%2016.6267%203.5Z'%20fill='%23ffffff'%3e%3c/path%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.8913%203.58234C7.27568%204.11887%204.5016%207.23584%204.5016%2011.0007V14.1147L3.80936%2015.9607C3.25776%2017.4316%204.34514%2019.0007%205.9161%2019.0007H8.93682C8.97089%2020.6629%2010.3295%2021.9993%2011.9998%2021.9993C13.6701%2021.9993%2015.0287%2020.6629%2015.0628%2019.0007H18.0871C19.6581%2019.0007%2020.7454%2017.4316%2020.1938%2015.9607L19.5016%2014.1147V13.6218C19.0282%2013.84%2018.5257%2014.006%2018.0016%2014.1124V14.1166C18.0016%2014.2952%2018.0337%2014.4724%2018.0965%2014.6397L18.7893%2016.4874C18.9732%2016.9777%2018.6108%2017.5007%2018.0871%2017.5007H5.9161C5.39244%2017.5007%205.02998%2016.9777%205.21385%2016.4874L5.90673%2014.6397C5.96946%2014.4724%206.0016%2014.2952%206.0016%2014.1166V11.0007C6.0016%208.36516%207.70092%206.12648%2010.0637%205.32059C10.2582%204.69854%2010.5387%204.11448%2010.8913%203.58234ZM11.9998%2020.4993C11.1573%2020.4993%2010.471%2019.8337%2010.4375%2019.0007H13.5622C13.5286%2019.8337%2012.8423%2020.4993%2011.9998%2020.4993Z'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e",it="data:image/svg+xml,%3csvg%20width='80'%20height='80'%20viewBox='0%200%2024%2024'%20fill='%23ffffff'%20xmlns='http://www.w3.org/2000/svg'%20transform='rotate(0%200%200)'%3e%3cpath%20d='M12.0006%204.5C11.2951%204.5%2010.7329%205.09006%2010.7671%205.79476L11.2515%2015.7858C11.2709%2016.1855%2011.6005%2016.4995%2012.0006%2016.4995C12.4007%2016.4995%2012.7304%2016.1855%2012.7497%2015.7858L13.2341%205.79476C13.2683%205.09006%2012.7061%204.5%2012.0006%204.5Z'%20fill='%23ffffff'%3e%3c/path%3e%3cpath%20d='M11.9994%2017.85C11.5023%2017.85%2011.0994%2018.2529%2011.0994%2018.75C11.0994%2019.2471%2011.5023%2019.65%2011.9994%2019.65H12.0004C12.4974%2019.65%2012.9004%2019.2471%2012.9004%2018.75C12.9004%2018.2529%2012.4974%2017.85%2012.0004%2017.85H11.9994Z'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e",nt=["div","section","main","header","nav","article","footer","aside","strong","iframe","img","canvas","figure","table","thead","tfoot","tbody","col","colgroup","tr","th","td","b","i","ol","ul","li","span","p","pre","h1","h2","h3","h4","h5","h6","a","input","button","select","option","optgroup","svg","path","polygon","circle","rect","ellipse","line","polyline","g","defs","symbol","use","form","blockquote","label","textarea","fieldset","hr","menu","video","audio","code","sub","sup","u","em","s","small","slot","template","progress","meter","time","abbr","address","area","html","head","body","title","meta","link","style","script","noscript","base","details","dialog","summary","fieldset","legend","datalist","caption","br","output","object","wbr","q","dl","dt","dd","del","ins","bdi","bdo"],ot=["id","style","class","alt","target","title","href","focus","src","srcset","type","action","rows","cols","selected","value","checked","placeholder","disabled","readonly","min","max","step","name","for","tabindex","autocomplete","autofocus","required","multiple","pattern","download","method","enctype","novalidate","formaction","disabled","dirname","dir","colspan","rowspan","allow","accept","charset","scope","async","data","defer","crossorigin","integrity","referrerpolicy","sandbox","sizes","width","height"],rt=(s,e)=>{const t={};return e.forEach(i=>{i in s&&(t[i]=s[i])}),t},Z=(s,e)=>{for(const[t,i]of Object.entries(e))s.setAttribute(t,i)},at=s=>typeof s=="object"&&s!==null,lt=(s,e)=>{if(at(e))for(const[t,i]of Object.entries(e))s.addEventListener(t,i)},ht=()=>new DocumentFragment,I=(s,e)=>{if(e=e??ht(),Array.isArray(s))return s.forEach(i=>I(i,e)),e;if(!s||!(s!=null&&s.tag))return e;if(s.domElement)return e.appendChild(s.domElement),e;const t=s.tag.toLocaleLowerCase();if(nt.includes(t)){const i=document.createElement(t);if(i){s.attrs&&typeof s.attrs=="object"&&Z(i,s.attrs);const n=rt(s,ot);Z(i,n),s.classes&&Array.isArray(s.classes)&&i.classList.add(...s.classes),lt(i,s==null?void 0:s.events),s.children?I(s.children,i):s.html!==void 0?i.innerHTML=s.html:s.text!==void 0&&(i.textContent=s.text),e.appendChild(i)}}return e},ft=s=>{var e,t;return(t=(e=I(s))==null?void 0:e.childNodes)==null?void 0:t[0]},dt={default:l,success:d,info:it,warining:P,error:h},ct="rb-toast",r=s=>`${ct}-${s}`,x={content:{title:"Hi, there!",message:"I hope you are having a great day!",buttons:[]},isCloseable:!0,autoClose:!0,type:"default",design:"minimal",position:"top-right",hasIcon:!0,hasProgressBar:!1,progress:0,classNames:[],theme:"light",animation:"slide",icon:{url:void 0,size:"small",classes:[]},offset:{x:30,y:30},duration:3e3},$=s=>typeof s=="object"&&"tagName"in s&&s instanceof HTMLElement;class mt{constructor(e){E(this,L);E(this,m);E(this,a);return S(this,a,{...x,...e,icon:{...x.icon,...(e==null?void 0:e.icon)??{}}}),typeof e.content=="object"&&!$(e.content)&&(o(this,a).content={...x.content,...e.content}),S(this,m,b(this,L,R).call(this)),this}addClasses(){var f,p,g,C,w,y;const e=r("alert"),t=(f=o(this,a))!=null&&f.type?r((p=o(this,a))==null?void 0:p.type):r("default"),i=(g=o(this,a))!=null&&g.design?r((C=o(this,a))==null?void 0:C.design):r("standard"),n=(w=o(this,a))!=null&&w.theme?r((y=o(this,a))==null?void 0:y.theme):r("light");return o(this,m).classes=[e,t,i,n],o(this,a).classNames&&(o(this,m).classes=[...new Set([...o(this,m).classes,...o(this,a).classNames])]),this}createTitle(){var i,n;const e=(n=(i=o(this,a))==null?void 0:i.content)==null?void 0:n.title;if(!e)return;const t={tag:"div",classes:[r("title")],children:[]};return e&&typeof e=="object"?(e.iconUrl&&t.children.push({tag:"img",attrs:{src:e==null?void 0:e.iconUrl},classes:[r("title-icon")]}),e.text&&t.children.push({tag:"span",text:e.text,classes:[r("title-text")]})):typeof e=="string"&&t.children.push({tag:"span",html:e,classes:[r("title-text")]}),t}addBody(){var n,f,p,g,C,w,y,K,_,U,W,N,Y,G,J;const e={tag:"div",classes:[r("content-wrapper")],children:[]},t={tag:"div",classes:[r("body")],children:[]};if($(o(this,a).content))return t.children.push({tag:"div",domElement:o(this,a).content,classes:[]}),o(this,m).children.push(t),this;if(o(this,a).hasIcon){const H={tag:"img",attrs:{src:(f=(n=o(this,a))==null?void 0:n.icon)!=null&&f.url?(g=(p=o(this,a))==null?void 0:p.icon)==null?void 0:g.url:dt[(C=o(this,a))==null?void 0:C.type]??d},classes:[r("alert-icon")]};(y=(w=o(this,a))==null?void 0:w.icon)!=null&&y.size?H.classes.push(r(`alert-icon-${(_=(K=o(this,a))==null?void 0:K.icon)==null?void 0:_.size}`)):H.classes.push(r("alert-icon-small")),(W=(U=o(this,a))==null?void 0:U.icon)!=null&&W.classes&&H.classes.push(...(Y=(N=o(this,a))==null?void 0:N.icon)==null?void 0:Y.classes),e.children.push(H)}typeof o(this,a).content=="object"&&((G=o(this,a).content)!=null&&G.message)?t.children.push({tag:"div",html:(J=o(this,a).content)==null?void 0:J.message,classes:[r("message")]}):typeof o(this,a).content=="string"&&t.children.push({tag:"span",html:o(this,a).content,classes:[r("message")]});const i=this.createTitle();return i&&t.children&&t.children.unshift(i),e.children.push(t),o(this,m).children.push(e),this}addActionButtons(){const e=o(this,a).content;if(typeof e!="object"||!Array.isArray(e==null?void 0:e.buttons))return this;if((e==null?void 0:e.buttons.length)>0){const t={tag:"div",classes:[r("alert-btn-group")],children:[]};t.children=e==null?void 0:e.buttons.map(b(this,L,X)),o(this,m).children.push(t)}return this}addCloseBtn(){if(o(this,a).isCloseable){const e={tag:"span",html:"&#10005;",classes:[r("close-btn")]};o(this,m).children.push(e)}return this}addProgressBar(){return o(this,a).hasProgressBar&&o(this,m).children.push({tag:"div",text:"",classes:[r("alert-progress-bar")],children:[{tag:"div",text:"",classes:[r("alert-progress-bar-fill")]}]}),this}toHtml(){return ft(o(this,m))}}m=new WeakMap,a=new WeakMap,L=new WeakSet,R=function(){return{tag:"div",classes:[],children:[]}},X=function(e){const t={tag:"button",children:[],classes:[],events:{click:e.onClick??(()=>{})}};if(t.classes=[r("btn"),r(`btn-${(e==null?void 0:e.type)??"default"}`),...e.classes??[]],e.iconUrl){const i={tag:"img",attrs:{src:e.iconUrl},classes:[r("btn-icon-small")]};t.children.push(i)}if(e.label!==void 0){const i={tag:"span",html:e.label,classes:[r("btn-label")]};t.children.push(i)}return t};const ut=s=>s&&(typeof s=="string"||s.title!==void 0||(s==null?void 0:s.message)!==void 0||$(s)),k=s=>{if(!ut(s==null?void 0:s.content))throw new Error("Only string, HTMLElement or an object having keys title, message, buttons is supported as content");return new mt(s).addClasses().addBody().addActionButtons().addCloseBtn().addProgressBar().toHtml()},B=()=>{},pt={animationClassPrefix:"",animationKind:"animation",onEnter:B,onEntered:B,onExit:B,onExited:B,animationTimeout:500},z=s=>typeof s=="object"&&((s||{}).tagName||(s==null?void 0:s.nodeName));class gt{constructor(e,t){u(this,"options");u(this,"node");E(this,A,()=>{var e,t;(t=(e=this.node)==null?void 0:e.classList)!=null&&t.contains(`${this.options.animationClassPrefix}-enter`)&&(this.node.classList.remove(`${this.options.animationClassPrefix}-enter`),this.node.classList.add(`${this.options.animationClassPrefix}-entered`),this.cleanupAnimationEventListners("enter"),typeof this.options.onEntered=="function"&&this.options.onEntered())});E(this,T,()=>{var e,t,i;(t=(e=this.node)==null?void 0:e.classList)!=null&&t.contains(`${this.options.animationClassPrefix}-exit`)&&(this.node.classList.remove(`${this.options.animationClassPrefix}-exit`),this.node.classList.add(`${this.options.animationClassPrefix}-exited`),this.cleanupAnimationEventListners("exit"),(i=this.node)==null||i.remove(),typeof this.options.onExited=="function"&&this.options.onExited())});this.options={...pt,...t||{}},this.node=e,this.validate()}validate(){var e;if(!z(this.node))throw new Error("node must be HTML Element");if(!["animation","transition"].includes(this.options.animationKind))throw new Error("animationKind must be either animation or transition");if(typeof this.options.animationClassPrefix!="string"||!((e=this.options.animationClassPrefix)!=null&&e.length))throw new Error("animationClassPrefix must be a valid string");if(typeof this.options.onEnter!="function")throw new Error("onEnter must be function");if(typeof this.options.onEntered!="function")throw new Error("onEntered must be function");if(typeof this.options.onExit!="function")throw new Error("onExit must be function");if(typeof this.options.onExited!="function")throw new Error("onExit must be function");if(!Number.isFinite(this.options.animationTimeout)||this.options.animationTimeout<1)throw new Error("animationTimeout must be number and larger than 0")}cleanupAnimationEventListners(e){let t;e==="enter"?t=o(this,A):e==="exit"&&(t=o(this,T)),t&&this.node&&this.node.removeEventListener(`${this.options.animationKind}end`,t)}handleAnimationTimeout(e){const t=Date.now(),i=setInterval(()=>{if(!this.node){clearInterval(i);return}if(Date.now()-t>this.options.animationTimeout)if(this.node.classList.contains(`${this.options.animationClassPrefix}-${e}`)){clearInterval(i);return}else{e==="entered"?o(this,A).call(this):o(this,T).call(this),clearInterval(i);return}},100)}startEnteringAnimation(){this.node.classList.add(`${this.options.animationClassPrefix}-enter`),typeof this.options.onEnter=="function"&&this.options.onEnter(),this.handleAnimationTimeout("entered"),this.node.addEventListener(`${this.options.animationKind}end`,o(this,A))}startExitingAnimation(){this.node.classList.remove(`${this.options.animationClassPrefix}-entered`),typeof this.options.onExit=="function"&&this.options.onExit(),this.node.classList.add(`${this.options.animationClassPrefix}-exit`),this.handleAnimationTimeout("exited"),this.node.addEventListener(`${this.options.animationKind}end`,o(this,T))}mount(e="append",t){if(!z(t))throw new Error("parent must be HTML Element");if(e!=="append"&&e!=="prepend")throw new Error("direction must be either append or prepend");e==="append"?t.appendChild(this.node):e==="prepend"&&t.prepend(this.node),this.node.classList.add(this.options.animationClassPrefix),setTimeout(this.startEnteringAnimation.bind(this),100)}appendChild(e){this.mount("append",e)}prepend(e){this.mount("prepend",e)}append(e){this.mount("append",e)}remove(){this.startExitingAnimation()}}A=new WeakMap,T=new WeakMap;const M=(s,e)=>{if(typeof s!="boolean")throw new Error(`'${e}' must be boolean`)},v=(s,e,t)=>{if(!e.includes(s))throw new Error(`'${t}' must be either one of these ${e}`)},Ct=(s,e,t)=>{if(!Array.isArray(s)||Array.isArray(s)&&s.length>0&&typeof(s==null?void 0:s[0])!==e)throw new Error(`'${t}' must be an array of ${e}`)},D=(s,e)=>{if(typeof s!="function")throw new Error(`'${e}' must be a function`)},F=s=>{const e={content:t=>{if(!t)throw new Error("Content is required");if(typeof t!="string"&&!$(t)&&!t.title&&!t.message)throw new Error("Content must be either string, HTMLElement or an object having keys title, message and buttons")},isCloseable:t=>{M(t,"isCloseable")},autoClose:t=>{M(t,"autoClose")},type:t=>{v(t,["default","success","info","warning","error"],"type")},design:t=>{v(t,["minimal","standard","colorful","gradient"],"design")},position:t=>{v(t,["top-left","top-right","top-center","bottom-left","bottom-right","center"],"position")},hasIcon:t=>{M(t,"hasIcon")},hasProgressBar:t=>{M(t,"hasProgressBar")},progress:t=>{if(t!==void 0&&typeof t!="number")throw new Error("progress must be number >= 0 and <= 100")},classNames:t=>{if(t!==void 0&&(!Array.isArray(t)||Array.isArray(t)&&t.length>0&&typeof(t==null?void 0:t[0])!="string"))throw new Error("classNames must be an array of strings")},theme:t=>{v(t,["light","dark","system"],"theme")},animation:t=>{v(t,["slide","bounce","fade","zoom"],"animation")},icon:t=>{if(t!==void 0&&typeof t!="object")throw new Error("icon must be an object");if(t!=null&&t.url&&typeof t.url!="string")throw new Error("icon.url must be a string");typeof(t==null?void 0:t.size)<"u"&&v(t.size,["small","medium","large"],"icon.size"),t.classes&&Ct(t.classes,"string","icon.classes")},offset:t=>{if(t!==void 0&&typeof t!="object")throw new Error("offset must be an object with x and y keys")},duration:t=>{if(t&&(typeof t!="number"||t<0))throw new Error("duration must be a number >= 0")},onClose:t=>{D(t,"onClose")},onShow:t=>{D(t,"onShow")}};Object.keys(e).forEach(t=>{s[t]!==void 0&&e[t](s[t])})},q=r("container"),bt=(s="slide")=>({slide:r("slide"),fade:r("fade"),zoom:r("zoom"),bounce:r("bounce")})[s]??s,yt=s=>{const e=[r("slide"),r("fade"),r("zoom"),r("bounce")];return Array.from(s.classList).filter(i=>e.some(n=>{if(i.startsWith(n))return i}))};class wt{constructor(e,t,i){u(this,"options");u(this,"content");u(this,"delegator");u(this,"mountedIn");u(this,"appearedAt");u(this,"element");u(this,"domManager");this.options=t,this.content=e,this.delegator=i,this.element=k({...t,content:e})}close(){this.delegator.close(this)}closeAll(){this.delegator.closeAll()}update(e,t){F({content:e,...t});const i={...this.options,...t,content:e,offset:{...this.options.offset,...t==null?void 0:t.offset},icon:{...this.options.icon,...t==null?void 0:t.icon}};try{const n=k(i),f=yt(this.element);n.classList.add(...f),this.element.innerHTML=n.innerHTML,this.element.setAttribute("class",n.getAttribute("class")),this.delegator.update(this,e,t)}catch{}}}class Et{constructor(){E(this,c);u(this,"options",{});u(this,"toasts",[])}notify(e,t){var f,p,g;F({content:e,...t}),this.options={...x,...t,offset:{...x.offset,...t==null?void 0:t.offset},icon:{...x.icon,...t==null?void 0:t.icon}},b(this,c,et).call(this,{"--toast-position-offset-x":CSS.px(((f=this.options.offset)==null?void 0:f.x)??30),"--toast-position-offset-y":CSS.px(((p=this.options.offset)==null?void 0:p.y)??30)});const i=b(this,c,st).call(this,(g=this.options)==null?void 0:g.position),n=new wt(e,this.options,this);return n.domManager=b(this,c,tt).call(this,i,n.element),n.mountedIn=i,n.appearedAt=Date.now(),this.toasts.push(n),n}close(e){var t,i;this.toasts=this.toasts.filter(n=>n!==e),(i=(t=e.domManager)==null?void 0:t.remove)==null||i.call(t)}update(e,t,i){const n=this.toasts.find(f=>f.element===e.element);n&&(b(this,c,O).call(this,n.domManager,e.element),b(this,c,V).call(this,e.element))}closeAll(){this.toasts.forEach(e=>{this.close(e)})}success(e,t){return this.notify(e,{...t,type:"success"})}info(e,t){return this.notify(e,{...t,type:"info"})}warn(e,t){return this.notify(e,{...t,type:"warning"})}error(e,t){return this.notify(e,{...t,type:"error"})}}return c=new WeakSet,tt=function(e,t){var f,p,g;const i=(f=this.options)!=null&&f.animation?bt((p=this.options)==null?void 0:p.animation):"rb-toast-slide",n=new gt(t,{animationClassPrefix:i,animationKind:["rb-toast-slide"].includes(i)?"transition":"animation",onEnter:()=>{},onExit:()=>{},onEntered:()=>{if(b(this,c,V).call(this,t),typeof this.options.onShow=="function"&&this.options.onShow(),this.options.duration&&this.options.autoClose){let C=this.options.duration;this.options.duration<1e3&&(console.warn("Duration should be greater than 1000ms"),C=3e3),setTimeout(()=>{var w;try{(w=n==null?void 0:n.remove)==null||w.call(n),this.toasts=this.toasts.filter(y=>y.element!==t)}catch(y){console.error("Failed to auto close toast",y)}},C)}},onExited:()=>{var C;(this.toasts.length===0||((C=e==null?void 0:e.children)==null?void 0:C.length)===0)&&e.remove(),typeof this.options.onClose=="function"&&this.options.onClose()},animationTimeout:300});return b(this,c,O).call(this,n,t),["bottom-right","bottom-left","center"].includes((g=this.options)==null?void 0:g.position)?n.append(e):n.prepend(e),n},O=function(e,t){var n;const i=t.querySelector(`.${r("close-btn")}`);i&&((n=this.options)!=null&&n.isCloseable?i.addEventListener("click",()=>{var f;(f=e==null?void 0:e.remove)==null||f.call(e),typeof this.options.onClose=="function"&&this.options.onClose()}):i.remove())},V=function(e){var i,n;const t=e.querySelector(`.${r("alert-progress-bar-fill")}`);if(t&&(i=this.options)!=null&&i.hasProgressBar){let f=((n=this.options)==null?void 0:n.progress)??0;f>100?f=100:f<0&&(f=0),t.animate([{width:CSS.percent(f)},{width:"100%"}],{duration:this.options.duration,fill:"forwards"})}},et=function(e){var i;const t=document.documentElement;if(e&&((i=Object.keys(e))==null?void 0:i.length)>0)for(const[n,f]of Object.entries(e))t.style.setProperty(n,f.toString())},st=function(e,t=document.body){let i=t.querySelector(`.${q}.${r(e)}`);return i||(i=document.createElement("div"),i.classList.add(q,r(e)),t.appendChild(i)),i},new Et});
